<% content_for :title, @challenge_story.title %>
<div class="md:w-2/3 w-full">

  <%= link_to challenge_stories_path, class: "btn btn-soft items-center gap-2", "data-turbo-frame": "_top" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
    </svg>
    Back
  <% end %>

  <%= turbo_stream_from @challenge_story %>
  <%= turbo_frame_tag "challenge_story" do %>
    <% if notice.present? %>
      <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice">
        <%= notice %>
      </p>
    <% end %>

    <ul class="steps steps-vertical lg:steps">
      <li data-content="●" class="step step-error">
        <%= @challenge_story.start.strftime("%B %d, %Y") %>
      </li>
      <li data-content="?" class="step step-info">check in 1</li>
      <li data-content="!" class="step step-info">check in 2</li>
      <li data-content="✓" class="step step-neutral">check in 3</li>
      <li data-content="✕" class="step step-neutral">check in 4</li>
      <li data-content="★" class="step step-neutral">check in 5</li>
      <li data-content="⚡️" class="step step-neutral">check in 6</li>
      <li data-content="●" class="step step-error">
        <%= @challenge_story.finish.strftime("%B %d, %Y") %>
      </li>
    </ul>

    <%= render @challenge_story %>

    <%= link_to "Edit", edit_challenge_story_path(@challenge_story), class: "btn btn-soft btn-primary" %>


    <%#= button_to "Destroy this challenge story", @challenge_story, method: :delete, form_class: "sm:inline-block mt-2 sm:mt-0 sm:ml-2",
   class: "btn btn-soft btn-secondary", data: { turbo_confirm: "Are you sure?" } %>

  <% end%>
  <%= turbo_frame_tag "new_message", src: new_challenge_story_challenge_comment_path(@challenge_story), target: "_top" %>

  <div id="challenge_comments" class="w-full sm:w-auto my-5 space-y-5">
    <%= render @challenge_story.challenge_comments.reverse %>
  </div>


</div>